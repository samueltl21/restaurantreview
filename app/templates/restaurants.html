{% extends "base.html" %}

{% block title %}Restaurants - RestaurantReview{% endblock %}

{% block content %}
<style>
    body {
        background: linear-gradient(to right, #f0f2f5, #f9f9f9);
        font-family: 'Segoe UI', sans-serif;
    }

    .restaurant-banner {
        background-image: url('{{ url_for('static', filename='images/home-food.jpg') }}');
        background-size: cover;
        background-position: center;
        height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
        font-size: 2.8rem;
        font-weight: bold;
        letter-spacing: 1px;
    }

    .section-wrapper {
        max-width: 1200px;
        margin: -80px auto 40px auto;
        padding: 50px 30px;
        background: #ffffff;
        border-radius: 16px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.07);
    }

    .top-section {
        display: flex;
        justify-content: center;
        gap: 30px;
        flex-wrap: wrap;
        margin-bottom: 50px;
    }

    .top-card {
        text-align: center;
        background: #fefefe;
        padding: 15px;
        border-radius: 12px;
        border: 1px solid #e6e6e6;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        width: 200px;
    }

    .top-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    }

    .top-card img {
        width: 100%;
        height: 130px;
        object-fit: contain;
        border-radius: 8px;
        background: #f7f9fc;
        padding: 6px;
    }

    .top-card .caption {
        font-size: 0.9rem;
        color: #666;
        margin-top: 6px;
    }

    .restaurant-columns {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        max-width: 1000px;
        margin: 0 auto;
        padding: 10px;
    }

    .restaurant-item {
        background: #ffffff;
        border: 1px solid #e3e3e3;
        border-radius: 10px;
        padding: 14px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        text-align: center;
        opacity: 1;
        transition: all 0.5s ease;
    }

    .restaurant-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08);
    }

    .fade-in {
        opacity: 0;
        transform: translateY(10px);
        animation: fadeInUp 0.5s forwards;
    }

    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .restaurant-item .stars {
        color: #ffc107;
        font-size: 1rem;
        margin-top: 5px;
    }

    h2 {
        text-align: center;
        font-weight: 700;
        font-size: 1.8rem;
        margin-bottom: 2rem;
        color: #222;
    }

    h4 {
        text-align: center;
        font-size: 1.3rem;
        margin-bottom: 2rem;
        font-weight: 600;
        color: #555;
    }

    h5 {
        margin-top: 3rem;
        margin-bottom: 1.4rem;
        font-weight: 600;
        font-size: 1.25rem;
        color: #444;
        text-align: center;
        position: relative;
    }

    .btn {
        background-color: #fff;
        border: 1px solid #007bff;
        color: #007bff;
        padding: 5px 15px;
        font-size: 0.85rem;
        border-radius: 6px;
        cursor: pointer;
        transition: 0.3s;
    }

    .btn:hover {
        background-color: #007bff;
        color: #fff;
    }

    @media (max-width: 600px) {
        .restaurant-banner {
            font-size: 1.8rem;
            text-align: center;
            padding: 0 20px;
        }

        .top-card {
            width: 90%;
        }
    }
</style>

<!-- Banner -->
<div class="restaurant-banner">
    Discover Top Rated Restaurants
</div>

<!-- Section Start -->
<div class="section-wrapper">

    <!-- Top Trending -->
    <h2>üåü Trending Right Now</h2>
    <div class="top-section">
        <div class="top-card">
            <img src="{{ url_for('static', filename='images/golden_spoon.jpg') }}" alt="Golden Spoon">
            <p class="mt-2 mb-0"><strong>Golden Spoon</strong></p>
            <p class="caption">"Where elegance meets flavor."</p>
        </div>
        <div class="top-card">
            <img src="{{ url_for('static', filename='images/Ocean_Delight.png') }}" alt="Ocean Delight">
            <p class="mt-2 mb-0"><strong>Ocean Delight</strong></p>
            <p class="caption">"Seafood you can trust."</p>
        </div>
        <div class="top-card">
            <img src="{{ url_for('static', filename='images/Flavor_Town.png') }}" alt="FlavorTown">
            <p class="mt-2 mb-0"><strong>FlavorTown</strong></p>
            <p class="caption">"Bold bites. Spicy nights."</p>
        </div>
        <div class="top-card">
            <img src="{{ url_for('static', filename='images/The_Spice_House.jpg') }}" alt="The Spice House">
            <p class="mt-2 mb-0"><strong>The Spice House</strong></p>
            <p class="caption">"Simply subtle, magically spicy."</p>
        </div>
        <div class="top-card">
            <img src="{{ url_for('static', filename='images/Midnight_Bites.jpg') }}" alt="Midnight Bites">
            <p class="mt-2 mb-0"><strong>Midnight Bites</strong></p>
            <p class="caption">"Late night, done right."</p>
        </div>
    </div>

    <!-- Categorized Restaurant Lists -->
    <h4>üç¥ Explore More Restaurants by Category</h4>

    <!-- Asian -->
    {% for cuisine, restaurants in grouped_restaurants.items() %}
    <h5>{{ cuisine }} Cuisine</h5>
    <div class="restaurant-columns">
        {% for r, rating in restaurants %}
        <a href="{{ url_for('restaurant_detail', restaurant_id=r.id) }}">
            <div class="restaurant-item">
                {{ r.name }}<br>
                <span class="stars">
                    {{ "‚≠ê" * rating|int }} {% if rating > 0 %}({{ rating }}){% endif %}
                </span>
            </div>
        </a>
        {% endfor %}
</div>
{% endfor %}
<div style="text-align:center;">
    <button onclick="toggle('asian')" class="btn" id="btn-asian">Load More</button>
</div>

<!-- Arabian -->
<h5>üç¢ Arabian Delights</h5>
<div class="restaurant-columns" id="arabian-list">
    <div class="restaurant-item">Midnight Bites<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">The Spice House<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">Mama‚Äôs Kitchen<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">Shawarma Stop<br><span class="stars">‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">Kebab Kingdom<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item extra-arabian" style="display:none;">Falafel House<br><span class="stars">‚≠ê‚≠ê‚≠ê</span>
    </div>
    <div class="restaurant-item extra-arabian" style="display:none;">The Mezze Spot<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</span>
    </div>
</div>
<div style="text-align:center;">
    <button onclick="toggle('arabian')" class="btn" id="btn-arabian">Load More</button>
</div>

<!-- Italian -->
<h5>üçù Italian Cuisine</h5>
<div class="restaurant-columns" id="italian-list">
    <div class="restaurant-item">Pasta Republic<br><span class="stars">‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">Sunset Grill<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">Le Petit Caf√©<br><span class="stars">‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">Burger Theory<br><span class="stars">‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item">Farm to Fork<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</span></div>
    <div class="restaurant-item extra-italian" style="display:none;">Bella Roma<br><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</span>
    </div>
    <div class="restaurant-item extra-italian" style="display:none;">Olive & Basil<br><span class="stars">‚≠ê‚≠ê‚≠ê</span>
    </div>
</div>
<div style="text-align:center;">
    <button onclick="toggle('italian')" class="btn" id="btn-italian">Load More</button>
</div>
</div>

<script>
    function toggle(category) {
        const extras = document.querySelectorAll(`.extra-${category}`);
        const button = document.getElementById(`btn-${category}`);
        const isHidden = extras[0].style.display === "none";

        extras.forEach(item => {
            if (isHidden) {
                item.style.display = "block";
                item.classList.add("fade-in");
            } else {
                item.style.display = "none";
                item.classList.remove("fade-in");
            }
        });

        button.innerText = isHidden ? "Show Less" : "Load More";
    }
</script>
{% endblock %}